{% extends "layout.html" %}

{% block title %}
    HOME
{% endblock %}

{% block main %}
    {% for message in get_flashed_messages() %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}

    <br/>
    <div class="student-profile py-4">
        <div class="container">
            <div class="row align-items-center">
            <div class="col">
                <div class="card shadow-sm">
                    <div class="card-header bg-transparent border-0">
                        <h3 class="mb-0">Matches Avaliable To Join</h3>
                        </div>
                    </div>
                    </div>
                    </div>
                    </div>
                    </div>

    {% for row in match %}
    <div class="student-profile py-4">
    <div class="container">
        <div class="row align-items-center">
        <div class="col">
            <div class="card shadow-sm">
                <div class="card-header bg-transparent border-0">
                    <h3 class="mb-0"><i class="far fa-clone pr-1"></i>Match Details</h3>
                </div>
            <div class="card-body pt-0">
                <table class="table table-striped">
                    <tr>
                        <th width="30%">Host</th>
                        <td width="2%">:</td>
                        <td>{{ row["name"] }}</td>
                        </tr>
                        <tr>
                        <th width="30%">Location</th>
                        <td width="2%">:</td>
                        <td>{{ row["location"] }}</td>
                        </tr>
                        <tr>
                        <th width="30%">Number Of Player</th>
                        <td width="2%">:</td>
                        <td>{{ row["number_of_players"] }}</td>
                        </tr>
                        <tr>
                        <th width="30%">Time</th>
                        <td width="2%">:</td>
                        <td>{{ row["time"] }}</td>
                        </tr>
                        <tr>
                        <th width="30%">Date</th>
                        <td width="2%">:</td>
                        <td>{{ row["date"] }}</td>
                    </tr>
                </table>

            <a href="{{url_for('joinmatch', id=playerid) }}" class="btn btn-primary">Join Match</a>

        {% if session["player_id"] %}

            <a href="{{ url_for('editmatch', id=session['player_id']) }}" class="btn btn-warning">Edit Match</a>

            <a href="{{ url_for('deletematch', id=session['player_id']) }}" class="btn btn-danger">Delete Match</a>

        {% endif %}

        <br/>
    </div>
    </div>
    </div>
    </div>
    </div>
    <br/>
    {% endfor %}

{% endblock %}